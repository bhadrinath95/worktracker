{% extends 'tracker/base.html' %}
{% block content %}
<div class="container mt-4 text-center">
  <h4 class="mb-3">{{ doc.filename }}</h4>
  <hr>
  {% if doc.filetype == 'pdf' %}
    <iframe src="https://docs.google.com/gview?url={{ github_url }}&embedded=true"
            style="width:100%; height:80vh;" frameborder="0"></iframe>
  {% elif doc.filetype == 'image' %}
    <div class="d-flex justify-content-center">
      <img src="{{ github_url }}" 
           alt="{{ doc.filename }}" 
           style="width:600px; max-width:90%; height:400px; object-fit:contain; border-radius:10px; border:1px solid #ccc;">
    </div>
  {% elif doc.filetype == 'video' %}
    <div class="d-flex justify-content-center">
      <video width="600" height="400" controls style="border-radius:10px; border:1px solid #ccc; object-fit:contain;">
        <source src="{{ github_url }}" type="video/mp4">
        Your browser does not support video playback.
      </video>
    </div>
  {% else %}
    <p>File type not supported for preview.</p>
    <a href="{{ github_url }}" target="_blank" class="btn btn-outline-primary">Download / View</a>
  {% endif %}
</div>
{% endblock %}
