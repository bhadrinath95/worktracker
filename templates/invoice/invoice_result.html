{% load static %}
<!DOCTYPE html>
<html>
<head>
  <title>Invoice {{ invoice_number }}</title>
  <link rel="stylesheet" href="{% static 'css/invoice.css' %}">
</head>
<body>
  <div class="invoice-container">
    <div class="header">
      <div class="header-left">
        <img src="{% static 'image/Logo.png' %}" alt="Company Logo" class="company-logo">
      </div>

      <div class="header-right">
        <h2>Bhadrinath Consultancy and Services (BCS)</h2>
        <p>#14, Third Cross North, Suriya Gandhi Nagar, Muthialpet, Puducherry - 605003</p>
        <p>Mobile: 7200948401 | Email: bhadrinath95@gmail.com</p>
      </div>
    </div>

    <h3>Invoice #{{ invoice_number }}</h3>

    <div class="customer-details">
      <h4>Billed To:</h4>
      <p><strong>{{ customer.name }}</strong></p>
      {% if customer.address %}
        <p>{{ customer.address | linebreaks }}</p>
      {% endif %}
      {% if customer.phone %}
        <p>Mobile: {{ customer.phone }}</p>
      {% endif %}
      {% if customer.email %}
        <p>Email: {{ customer.email }}</p>
      {% endif %}
    </div>

    <table>
      <thead>
        <tr>
          <th>Description</th>
          <th>Quantity</th>
          <th>Price</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        {% for item in items %}
        <tr>
          <td>{{ item.description }}</td>
          <td>{{ item.quantity }}</td>
          <td>{{ item.price }}</td>
          <td>{{ item.line_total }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <div class="total-section">
      <p class="total">Overall Total: {{ overall_total }}</p>
      {% if amount_received %}
        <p class="total">Amount Received: {{ amount_received }}</p>
        <p class="total">Balance: {{ balance }}</p>
      {% endif %}
    </div>

    <div class="signature-page">
      <div class="signature-section">
        <div>
          <p><strong>Authorized Signatory</strong></p><br><br>
          <p class="signature">For {{ company.name }}</p>
        </div>
        <div>
          <p><em>Date:</em> {{ date_today }}</p>
        </div>
      </div>

      <div class="footer">
        <p>Thank you for your business!</p>
        <p>This is a computer-generated invoice. No signature required if sent electronically.</p>
      </div>
    </div>
  </div>
  
  <!-- âœ… Print button centered -->
  <div class="print-button-container">
    <button class="no-print" id="printButton">Print / Save as PDF</button>
  </div>

  <script>
    document.getElementById("printButton").addEventListener("click", function() {
      window.print();
    });
  </script>
</body>
</html>
